{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///(webpack)/buildin/module.js","webpack:///./src/client/about.jsx","webpack:///./src/client/aboutDetail.jsx","webpack:///./src/client/home.jsx","webpack:///./src/client/main.jsx","webpack:///./src/component/head.jsx","webpack:///./src/component/provider.jsx","webpack:///./src/redux/createStore.js","webpack:///./src/routes/index.js","webpack:///./src/server/index.js","webpack:///./src/server/routes lazy ^\\.\\/.*$ namespace object","webpack:///./src/server/routes/index.ts","webpack:///./src/server/routes/user.ts","webpack:///./src/static/test.jpg","webpack:///./src/util/asyncMatchRoutes.js","webpack:///external \"babel-runtime/helpers/asyncToGenerator\"","webpack:///external \"babel-runtime/helpers/extends\"","webpack:///external \"babel-runtime/helpers/toConsumableArray\"","webpack:///external \"babel-runtime/regenerator\"","webpack:///external \"fs\"","webpack:///external \"history/createBrowserHistory\"","webpack:///external \"history/createMemoryHistory\"","webpack:///external \"koa\"","webpack:///external \"koa-router\"","webpack:///external \"koa-views\"","webpack:///external \"path\"","webpack:///external \"react\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-hot-loader\"","webpack:///external \"react-loadable\"","webpack:///external \"react-redux\"","webpack:///external \"react-router-config\"","webpack:///external \"react-router-dom\"","webpack:///external \"react-router-redux\"","webpack:///external \"redux\""],"names":["props","route","routes","x","Provider","history","middleware","store","router","routerReducer","loading","error","pastDelay","retry","About","loader","AboutDetail","component","Main","path","Home","loadData","exact","app","Koa","use","ctx","originalUrl","initialEntries","components","modules","moduleName","push","content","ReactDOMServer","renderToString","console","log","body","listen","info","getComponents","matchComponentsArray","map","matchComponent","reduce","result","preload","res","concat","ret","getParams","match","params","pathname"],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded chunks\n \t// \"0\" means \"already loaded\"\n \tvar installedChunks = {\n \t\t\"server\": 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// uncaught error handler for webpack runtime\n \t__webpack_require__.oe = function(err) {\n \t\tprocess.nextTick(function() {\n \t\t\tthrow err; // catch this error by using import().catch()\n \t\t});\n \t};\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/server/index.js\");\n","module.exports = function(module) {\r\n\tif (!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif (!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n","import React from 'react';\r\nimport Head from '../component/head';\r\nimport { Link } from 'react-router-dom';\r\nimport { renderRoutes } from 'react-router-config';\r\nimport './about.css';\r\nexport default (props) => {\r\n    return (\r\n        <div>\r\n            <Head />\r\n            about\r\n            <div className=\"about\">\r\n                <Link to=\"/about/111/detail\">about/:id/detail</Link>\r\n            </div>\r\n            {renderRoutes(props.route.routes)}\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\n\r\nimport x from '../static/test.jpg';\r\nexport default () => {\r\n    return (\r\n        <div>\r\n            aboutDetail\r\n            <img src={x} alt=\"x\"/>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport Head from '../component/head';\r\nimport { Link } from 'react-router-dom';\r\nimport { renderRoutes } from 'react-router-config';\r\nexport default ({route}) => {\r\n    return <div>\r\n        <Head />\r\n        home\r\n    </div>\r\n}","import React from 'react';\r\nimport { renderRoutes } from 'react-router-config';\r\nexport default ({ route }) => {\r\n    return <div>\r\n        main\r\n        {renderRoutes(route.routes)}\r\n    </div>\r\n}","import React from 'react';\r\nimport './head.css'\r\nexport default (props) => {\r\n    return <div className=\"head\">head</div>\r\n}","import { Provider } from 'react-redux';\r\n\r\nexport default Provider;","import createBrowserHistory from 'history/createBrowserHistory';\r\nimport { ConnectedRouter, routerReducer, routerMiddleware } from 'react-router-redux';\r\nimport { createStore, combineReducers, applyMiddleware } from 'redux';\r\n\r\n\r\n\r\nexport default ({ history }) => {\r\n    const middleware = routerMiddleware(history);\r\n    const store = createStore(\r\n        combineReducers({\r\n            router: routerReducer,\r\n        }),\r\n        applyMiddleware(middleware)\r\n    );\r\n    return store;\r\n}","\r\nimport Loadable from 'react-loadable';\r\nimport React from 'react';\r\nconst loading = ({ error, pastDelay, retry }) => {\r\n    if (error) {\r\n        return <div>Error! <button onClick={retry}>Retry</button></div>;\r\n    } else if (pastDelay) {\r\n        return <div>Loading...</div>;\r\n    } else {\r\n        return null;\r\n    }\r\n    return <div>loading</div>\r\n}\r\nimport Main from '../client/main';\r\nimport Home from '../client/home';\r\nimport home from '../client/home';\r\n// const Main = Loadable({\r\n//     loader: () => import('./main'),\r\n//     loading,\r\n// })\r\n// const Home = Loadable({\r\n//     loader: () => import('./home'),\r\n//     loading,\r\n// });\r\n\r\n\r\nconst About = Loadable({\r\n    loader: () => import('../client/about'),\r\n    loading,\r\n});\r\n\r\nconst AboutDetail = Loadable({\r\n    loader: () => import('../client/aboutDetail'),\r\n    loading,\r\n});\r\n\r\nconst routes = [\r\n    {\r\n        component: Main,\r\n        routes: [\r\n            {\r\n                path: '/',\r\n                component: Home,\r\n                loadData: () => 1,\r\n                exact: true,\r\n            },\r\n            {\r\n                path: '/about',\r\n                component: About,\r\n                routes: [\r\n                    {\r\n                        path: '/about/:id/detail',\r\n                        component: AboutDetail\r\n                    }\r\n                ]\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        path: '/x',\r\n        component: Home,\r\n    }\r\n]\r\n\r\nexport default routes;","\r\n\r\n\r\n\r\nimport Koa from 'koa';\r\nimport views from 'koa-views';\r\nimport React from 'react';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { StaticRouter } from 'react-router-dom';\r\nimport router from './routes';\r\nimport { renderRoutes } from 'react-router-config';\r\nimport asyncMatchRoutes from '../util/asyncMatchRoutes';\r\nimport routes from '../routes';\r\nimport createStore from '../redux/createStore';\r\nimport Provider from '../component/provider';\r\nimport { ConnectedRouter } from 'react-router-redux';\r\nimport createMemoryHistory from 'history/createMemoryHistory';\r\nimport Loadable from 'react-loadable';\r\n\r\nexport default () => {\r\n    const app = new Koa();\r\n    app.use(async (ctx) => {\r\n        const {\r\n            originalUrl\r\n        } = ctx;\r\n        const history = createMemoryHistory({ initialEntries: [originalUrl] });\r\n        const { components } = asyncMatchRoutes(routes, originalUrl);\r\n        \r\n        const store = createStore({ history });\r\n        const modules = [];\r\n        const component = (\r\n            <Loadable.Capture report={(moduleName) => modules.push(moduleName)}>\r\n            <Provider store={store}>\r\n                <ConnectedRouter history={history}>\r\n                    <StaticRouter location={originalUrl} >\r\n                        {renderRoutes(routes)}\r\n                    </StaticRouter>\r\n                </ConnectedRouter>\r\n            </Provider>\r\n            </Loadable.Capture>\r\n        );\r\n        const content = ReactDOMServer.renderToString(component);\r\n        console.log(modules)\r\n        ctx.body = content;\r\n    });\r\n    app.listen(3000, () => {\r\n        console.info('server is start port: 3000')\r\n    })\r\n}\r\n\r\n\r\n","var map = {\n\t\"./\": [\n\t\t\"./src/server/routes/index.ts\"\n\t],\n\t\"./index\": [\n\t\t\"./src/server/routes/index.ts\"\n\t],\n\t\"./index.ts\": [\n\t\t\"./src/server/routes/index.ts\"\n\t],\n\t\"./user\": [\n\t\t\"./src/server/routes/user.ts\",\n\t\t\"server\"\n\t],\n\t\"./user.ts\": [\n\t\t\"./src/server/routes/user.ts\",\n\t\t\"server\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\tvar module = __webpack_require__(ids[0]);\n\t\treturn module;\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./src/server/routes lazy recursive ^\\\\.\\\\/.*$\";\nmodule.exports = webpackAsyncContext;","import * as fs from 'fs';\r\nimport * as path from 'path';\r\nimport * as Router from 'koa-router';\r\nconst router = new Router({prefix: '/api'});\r\n\r\nfs.readdirSync(__dirname)\r\n    .filter(filename => filename !== path.basename(__filename))\r\n    .forEach(async (filename) => {\r\n        let subRouter = await import(`./${filename}`);\r\n        router.use(subRouter.default.routes(), subRouter.default.allowedMethods())\r\n    });\r\n\r\nexport default router;\r\n\r\n","import * as Router from 'koa-router';\r\nconst router = new Router({prefix: '/user'});\r\n\r\nrouter.get('/getUserInfo', async (ctx) => {\r\n    ctx.body = {\r\n        name: 'xxxx',\r\n    }\r\n})\r\nconsole.log(router.allowedMethods)\r\nexport default router;","module.exports = __webpack_public_path__ + \"e4ba37e756254d56c4c1fd8d8184ab4d.jpg\";","import { matchRoutes } from 'react-router-config';\r\n\r\nfunction getComponents(matchComponentsArray) {\r\n  return matchComponentsArray\r\n    .map(matchComponent => matchComponent.route.component)\r\n    .reduce(async (result, component) => {\r\n      if (component.preload) {\r\n        const res = await component.preload();\r\n        const ret = [...(await result), component, ...[].concat(res)];\r\n        return ret;\r\n      }\r\n      return [...(await result), component];\r\n    }, []);\r\n}\r\n\r\nfunction getParams(match) {\r\n  return match.reduce((result, component) => {\r\n    if (component.match && component.match.params) {\r\n      return { ...result, ...component.match.params };\r\n    }\r\n    return result;\r\n  }, {});\r\n}\r\n\r\nexport default async (routes, pathname) => {\r\n  const match = matchRoutes(routes, pathname);\r\n  const params = getParams(match);\r\n  const components = await getComponents(match);\r\n\r\n  return { components, match, params };\r\n};\r\n","module.exports = require(\"babel-runtime/helpers/asyncToGenerator\");","module.exports = require(\"babel-runtime/helpers/extends\");","module.exports = require(\"babel-runtime/helpers/toConsumableArray\");","module.exports = require(\"babel-runtime/regenerator\");","module.exports = require(\"fs\");","module.exports = require(\"history/createBrowserHistory\");","module.exports = require(\"history/createMemoryHistory\");","module.exports = require(\"koa\");","module.exports = require(\"koa-router\");","module.exports = require(\"koa-views\");","module.exports = require(\"path\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-hot-loader\");","module.exports = require(\"react-loadable\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-router-config\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"react-router-redux\");","module.exports = require(\"redux\");"],"sourceRoot":""}